{"version":3,"sources":["script.min.js"],"names":["mySwiper","Swiper","loop","pagination","el","slidesPerView","breakpoints","1200","navigation","nextEl","prevEl","spaceBetween","620","buttonBurger","document","querySelector","menu","menuLink","querySelectorAll","callBackForm","inputName","getElementById","inputPhone","formSubmit","inputPolicy","formShowMessage","phoneMask","IMask","mask","lazy","placeholderChar","menuActive","flyElement","getElementsByClassName","activateElement","classList","add","openMobileMenu","body","style","overflow","remove","removeAttribute","goLink","event","target","matches","scrollToSection","activeForm","closest","display","preventDefault","bigWindowSize","window","innerWidth","validateForm","valide","value","length","i","checked","alert","formData","FormData","forms","form","xhr","XMLHttpRequest","open","send","onload","status","innerHTML","setTimeout","href","getAttribute","slice","scrollIntoView","block","behavior","addEventListener","key","match"],"mappings":"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","file":"script.min.js","sourcesContent":["const mySwiper = new Swiper ('.swiper-container', {\r\n  loop: true,\r\n  pagination: {\r\n    el: '.swiper-pagination',\r\n  },\r\n  slidesPerView: 1,\r\n  breakpoints: {\r\n    1200: {\r\n      slidesPerView: 3,\r\n      navigation: {\r\n        nextEl: '.swiper-button-next',\r\n        prevEl: '.swiper-button-prev',\r\n      },\r\n      spaceBetween: 30,\r\n    },\r\n    620: {\r\n      slidesPerView: 2,\r\n      spaceBetween: 30,\r\n    }\r\n  },\r\n});\r\nconst buttonBurger = document.querySelector('.header__burger-line');\r\nconst menu = document.querySelector('.header__nav');\r\nconst menuLink = menu.querySelectorAll('.nav__link');\r\nconst callBackForm = document.querySelector('.form');\r\nconst inputName = document.getElementById('form__name');\r\nconst inputPhone = document.getElementById('form__phone');\r\nconst formSubmit = document.querySelector('.form__submit');\r\nconst inputPolicy = document.querySelector('.form__policy');\r\nconst formShowMessage = document.querySelector('.form__answer');\r\nconst phoneMask = IMask(inputPhone, {\r\n  mask: '+{7}(000)000-00-00',\r\n  lazy: false,  // make placeholder always visible\r\n  placeholderChar: '_'     // defaults to '_'\r\n});\r\nlet menuActive = false;\r\nlet flyElement = document.getElementsByClassName('elements');\r\n\r\nsetTimeout(activateElement, 500);\r\nbuttonBurger.addEventListener('click', openMobileMenu);\r\nwindow.addEventListener('resize', bigWindowSize);\r\nmenu.addEventListener('click', goLink);\r\ndocument.body.addEventListener('click', activeForm);\r\nformSubmit.addEventListener('click', validateForm);\r\n\r\ninputName.addEventListener('keydown', function(event) {\r\n  if (!(event.key.match(/[А-Яа-яЁё]/) || event.key.match('Backspace') || event.key.match('Tab'))) {\r\n    event.preventDefault();\r\n  }\r\n});\r\n\r\nfunction activateElement() {\r\n  flyElement[0].classList.add('elements--active');\r\n}\r\n\r\nfunction openMobileMenu() {\r\n  if (menuActive === false) {\r\n    menu.classList.add('header__nav--open');\r\n    buttonBurger.classList.add('header__burger-line--opend');\r\n    document.body.style.overflow = 'hidden';\r\n    menuActive = true;\r\n  } else {\r\n    menu.classList.remove('header__nav--open');\r\n    buttonBurger.classList.remove('header__burger-line--opend');\r\n    document.body.removeAttribute('style');\r\n    menuActive = false;\r\n  }\r\n}\r\n\r\nfunction goLink(event) {\r\n  if (event.target.matches('.nav__link') && menuActive === true) {\r\n    menu.classList.remove('header__nav--open');\r\n    buttonBurger.classList.remove('header__burger-line--opend');\r\n    document.body.removeAttribute('style');\r\n    menuActive = false;\r\n  }\r\n\r\n  if (event.target.matches('.nav__link')) {\r\n    scrollToSection(event);\r\n  }\r\n}\r\n\r\nfunction activeForm(event) {\r\n  if (event.target.closest('.button-inhert')  || event.target.closest('#order-project')) {\r\n    callBackForm.style.display = 'flex';\r\n    document.body.style.overflow = 'hidden';\r\n  }\r\n  if (event.target.matches('.form__close')) {\r\n    callBackForm.removeAttribute('style');\r\n    document.body.removeAttribute('style');\r\n    inputName.classList.remove('form__input--error');\r\n    inputPhone.classList.remove('form__input--error');\r\n    event.preventDefault();\r\n  }\r\n  if (event.target.matches('.form__input')) {\r\n    inputName.classList.remove('form__input--error');\r\n    inputPhone.classList.remove('form__input--error');\r\n  }\r\n}\r\n\r\nfunction bigWindowSize() {\r\n  let widthOutput = window.innerWidth;\r\n  if (widthOutput > 1200 && menuActive === true) {\r\n    menu.classList.remove('header__nav--open');\r\n    buttonBurger.classList.remove('header__burger-line--opend');\r\n    document.body.removeAttribute('style');\r\n    menuActive = false;\r\n  }\r\n}\r\n\r\nfunction validateForm(event) {\r\n  let valide = true;\r\n\r\n  event.preventDefault();\r\n\r\n  if (inputName.value.length === 0) {\r\n    inputName.classList.add('form__input--error');\r\n    valide = false;\r\n  }\r\n  for (i = 0; i < inputPhone.value.length; i++) {\r\n    if (inputPhone.value[i] == '_') {\r\n      inputPhone.classList.add('form__input--error');\r\n      valide = false;\r\n      break;\r\n    }\r\n  }\r\n  if (inputPolicy.checked === false) {\r\n    alert('Примите соглашение с Политикой обработки персональных данных');\r\n    valide = false;\r\n  }\r\n  \r\n  if (valide) {\r\n    let formData = new FormData(document.forms.form);\r\n    let xhr = new XMLHttpRequest();\r\n    let result = {};\r\n    xhr.open('POST', '../send.php');\r\n    xhr.send(formData);\r\n\r\n    xhr.onload = () => {\r\n      if (xhr.status == 200) {\r\n        formShowMessage.classList.add('form__answer--show');\r\n        formShowMessage.innerHTML = 'Спасибо за заявку! Мы с вами свяжемся в ближайшее время';\r\n        setTimeout(() => {\r\n          callBackForm.removeAttribute('style');\r\n          document.body.removeAttribute('style');\r\n          formShowMessage.classList.remove('form__answer--show');\r\n          inputName.value = '';\r\n          phoneMask.value = '+7(___)___-__-__';\r\n          inputPolicy.checked = false;\r\n        }, 2000);\r\n      } else {\r\n        formShowMessage.classList.add('form__answer--show');\r\n        formShowMessage.innerHTML = 'Упс, что-то пошло не так... Попробуйте чуть позже';\r\n        setTimeout(() => {\r\n          callBackForm.removeAttribute('style');\r\n          document.body.removeAttribute('style');\r\n          formShowMessage.classList.remove('form__answer--show');\r\n          inputName.value = '';\r\n          phoneMask.value = '+7(___)___-__-__';\r\n          inputPolicy.checked = false;\r\n        }, 2000);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction scrollToSection(event) {\r\n  const href = event.target.getAttribute('href').slice(1);\r\n  const selectSection = document.getElementById(href);\r\n\r\n  selectSection.scrollIntoView({block: \"start\", behavior: \"smooth\"})\r\n  \r\n  event.preventDefault();\r\n}"]}